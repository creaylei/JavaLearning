# æ•°ç»„

[toc]

## 1 åŒæŒ‡é’ˆç›¸å…³ï¼šå¿«æ…¢æŒ‡é’ˆã€å·¦å³æŒ‡é’ˆ

- å¿«æ…¢æŒ‡é’ˆï¼š ä¸»è¦è§£å†³é“¾è¡¨ç›¸å…³é—®é¢˜ï¼Œå¦‚åˆ¤æ–­ç¯
- å·¦å³æŒ‡é’ˆï¼šä¸»è¦è§£å†³æ•°ç»„ï¼ˆæˆ–è€…å­—ç¬¦ä¸²ï¼‰çš„é—®é¢˜ï¼Œå¦‚äºŒåˆ†æŸ¥æ‰¾

### å¿«æ…¢æŒ‡é’ˆ

#### 1. 141åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œ ç›´æ¥è§£

#### 2. æ‰¾ç¯çš„èµ·å§‹ç‚¹ï¼š kå’Œ2kçš„åŒºåˆ«

![image-20210807154005719](https://tva1.sinaimg.cn/large/008i3skNly1gt89mtte6bj30uq0kamyl.jpg)

è¿™é‡Œæœ‰ä¸ªç†è®ºè¦èƒŒä¸€ä¸‹ï¼š

æ³¨æ„ï¼š**ç›¸é‡ç‚¹ä¸ä¸€å®šæ˜¯èµ·ç‚¹ï¼Œå±¡å±¡ç¿»è½¦**

```java
å‡è®¾  fast å’Œ slow

1. slowèµ°äº†kæ­¥ï¼Œ fastèµ°äº†2kæ­¥

2. å‡è®¾ç›¸é‡ç‚¹è·ç¦»ç¯çš„èµ·ç‚¹è·ç¦»ä¸º mã€‚    é‚£ä¹ˆï¼Œèµ·ç‚¹ä¸º  k-m 
  
3. ç»“è®ºï¼š åˆ°ç›¸é‡ç‚¹åï¼Œ è®© slow = head, æ­¤æ—¶ fast å’Œ slow éƒ½æ¯æ¬¡èµ°ä¸€æ­¥ï¼Œä¸‹ä¸€æ¬¡ç›¸é‡ç‚¹å°±æ˜¯èµ·ç‚¹
```

![image-20210807154639827](https://tva1.sinaimg.cn/large/008i3skNly1gt89tmctxdj314k0jognr.jpg)

**`fast` ä¸€å®šæ¯” `slow` å¤šèµ°äº† `k` æ­¥ï¼Œè¿™å¤šèµ°çš„ `k` æ­¥å…¶å®å°±æ˜¯ `fast` æŒ‡é’ˆåœ¨ç¯é‡Œè½¬åœˆåœˆï¼Œæ‰€ä»¥ `k` çš„å€¼å°±æ˜¯ç¯é•¿åº¦çš„ã€Œæ•´æ•°å€ã€**ã€‚

è®¾ç›¸é‡ç‚¹è·ç¯çš„èµ·ç‚¹çš„è·ç¦»ä¸º `m`ï¼Œé‚£ä¹ˆç¯çš„èµ·ç‚¹è·å¤´ç»“ç‚¹ `head` çš„è·ç¦»ä¸º `k - m`ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä» `head` å‰è¿› `k - m` æ­¥å°±èƒ½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚

å·§çš„æ˜¯ï¼Œå¦‚æœä»ç›¸é‡ç‚¹ç»§ç»­å‰è¿› `k - m` æ­¥ï¼Œä¹Ÿæ°å¥½åˆ°è¾¾ç¯èµ·ç‚¹ã€‚ä½ ç”­ç®¡ `fast` åœ¨ç¯é‡Œåˆ°åº•è½¬äº†å‡ åœˆï¼Œåæ­£èµ° `k` æ­¥å¯ä»¥åˆ°ç›¸é‡ç‚¹ï¼Œé‚£èµ° `k - m` æ­¥ä¸€å®šå°±æ˜¯èµ°åˆ°ç¯èµ·ç‚¹äº†ï¼š

#### 3. æ‰¾é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹

#### 4. å¯»æ‰¾é“¾è¡¨å€’æ•°ç¬¬nä¸ªå…ƒç´ 

#### 5. å››ä¸ªæ•°ç»„åŸåœ°ç§»åŠ¨ã€åˆ é™¤çš„é¢˜ï¼Œå¿«æ…¢æŒ‡é’ˆè§£æ³•ç®€ç›´å‰å®³

[26.åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ï¼ˆç®€å•ï¼‰](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/)

```java
æˆ‘ä»¬è®©æ…¢æŒ‡é’ˆ slow èµ°åœ¨åé¢ï¼Œå¿«æŒ‡é’ˆ fast èµ°åœ¨å‰é¢æ¢è·¯ï¼Œæ‰¾åˆ°ä¸€ä¸ªä¸é‡å¤çš„å…ƒç´ å°±å‘Šè¯‰ slow å¹¶è®© slow å‰è¿›ä¸€æ­¥ã€‚è¿™æ ·å½“ fast æŒ‡é’ˆéå†å®Œæ•´ä¸ªæ•°ç»„ nums åï¼Œnums[0..slow] å°±æ˜¯ä¸é‡å¤å…ƒç´ ã€‚

int removeDuplicates(int[] nums) {
    if (nums.length == 0) {
        return 0;
    }
    int slow = 0, fast = 0;
    while (fast < nums.length) {
        if (nums[fast] != nums[slow]) {
            slow++;
            // ç»´æŠ¤ nums[0..slow] æ— é‡å¤
            nums[slow] = nums[fast];
        }
        fast++;
    }
    // æ•°ç»„é•¿åº¦ä¸ºç´¢å¼• + 1
    return slow + 1;
}
```

[83.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ï¼ˆç®€å•ï¼‰](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list/)

å’Œä¸Šé¢ä¸€æ ·ï¼Œä½†æ˜¯åŸºäºæŒ‡é’ˆæ“ä½œ

```
ListNode deleteDuplicates(ListNode head) {
    if (head == null) return null;
    ListNode slow = head, fast = head;
    while (fast != null) {
        if (fast.val != slow.val) {
            // nums[slow] = nums[fast];
            slow.next = fast;
            // slow++;
            slow = slow.next;
        }
        // fast++
        fast = fast.next;
    }
    // æ–­å¼€ä¸åé¢é‡å¤å…ƒç´ çš„è¿æ¥
    slow.next = null;
    return head;
}
```

[27.ç§»é™¤å…ƒç´ ï¼ˆç®€å•ï¼‰](https://leetcode-cn.com/problems/remove-element/)

```java
int removeElement(int[] nums, int val) {
    int fast = 0, slow = 0;
    while (fast < nums.length) {
        if (nums[fast] != val) {
            nums[slow] = nums[fast];
            slow++;
        }
        fast++;
    }
    return slow;
}
```

[283.ç§»åŠ¨é›¶ï¼ˆç®€å•ï¼‰](https://leetcode-cn.com/problems/move-zeroes/)

```java
void moveZeroes(int[] nums) {
    // å»é™¤ nums ä¸­çš„æ‰€æœ‰ 0
    // è¿”å›å»é™¤ 0 ä¹‹åçš„æ•°ç»„é•¿åº¦
    int p = removeElement(nums, 0);
    // å°† p ä¹‹åçš„æ‰€æœ‰å…ƒç´ èµ‹å€¼ä¸º 0
    for (; p < nums.length; p++) {
        nums[p] = 0;
    }
}

// è§ä¸Šæ–‡ä»£ç å®ç°
int removeElement(int[] nums, int val);
```

å¿«æ…¢æŒ‡é’ˆçš„æ€è·¯åšå¤§ç²¾æ·±ï¼Œéœ€è¦å¤šå°è¯•ï¼Œå¤šè¿ç”¨



---

### å·¦å³æŒ‡é’ˆ

#### 1. äºŒåˆ†æŸ¥æ‰¾

Left = 0 ï¼› right = nums.length - 1

```
int binarySearch(int[] nums, int target) {
    int left = 0; 
    int right = nums.length - 1;
    while(left <= right) {
        int mid = (right + left) / 2;
        if(nums[mid] == target)
            return mid; 
        else if (nums[mid] < target)
            left = mid + 1; 
        else if (nums[mid] > target)
            right = mid - 1;
    }
    return -1;
}
```

#### 2. ä¸¤æ•°ä¹‹å’Œ

é¢˜ç›®æ˜¯ï¼šç»™å®šä¸€ä¸ªå·²æŒ‰ç…§ **å‡åºæ’åˆ—** çš„æ•´æ•°æ•°ç»„ `numbers` ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºä¸¤ä¸ªæ•°æ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° `target` ã€‚

**çœ‹åˆ°æœ‰åºæ•°ç»„å°±è¦æƒ³åˆ° å·¦å³æŒ‡é’ˆ**

```java
int[] twoSum(int[] nums, int target) {
    int left = 0, right = nums.length - 1;
    while (left < right) {
        int sum = nums[left] + nums[right];
        if (sum == target) {
            // é¢˜ç›®è¦æ±‚çš„ç´¢å¼•æ˜¯ä» 1 å¼€å§‹çš„
            return new int[]{left + 1, right + 1};
        } else if (sum < target) {
            left++; // è®© sum å¤§ä¸€ç‚¹
        } else if (sum > target) {
            right--; // è®© sum å°ä¸€ç‚¹
        }
    }
    return new int[]{-1, -1};
}
```

#### 3. åè½¬æ•°ç»„

#### 4. æ»‘åŠ¨çª—å£ç®—æ³•

> è®¾ç½®ä¸¤ä¸ªé›†åˆï¼Œä¸€è¾¹è¿›å…¥ï¼Œä¸€è¾¹åˆ é™¤ï¼Œæ­¤é¢˜ä¸”ç•™ä¸‹

## 2. å…¶ä»–

### 2.1 è®¾è®¡ä¸€ä¸ªæ”¯æŒåœ¨*å¹³å‡* æ—¶é—´å¤æ‚åº¦ **O(1)** ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œçš„æ•°æ®ç»“æ„ã€‚

```java
insert(val)ï¼šå½“å…ƒç´  val ä¸å­˜åœ¨æ—¶ï¼Œå‘é›†åˆä¸­æ’å…¥è¯¥é¡¹ã€‚
remove(val)ï¼šå…ƒç´  val å­˜åœ¨æ—¶ï¼Œä»é›†åˆä¸­ç§»é™¤è¯¥é¡¹ã€‚
getRandomï¼šéšæœºè¿”å›ç°æœ‰é›†åˆä¸­çš„ä¸€é¡¹ã€‚æ¯ä¸ªå…ƒç´ åº”è¯¥æœ‰ç›¸åŒçš„æ¦‚ç‡è¢«è¿”å›ã€‚
```

è¿™é“é¢˜æ²¡åšå‡ºæ¥ï¼ğŸ˜³

å¯¹ä¸æƒ³åˆ°äº† HashSet,  èƒ½æ»¡è¶³å‰ä¸¤æ¡ã€‚  ä½†æ˜¯ç¬¬ä¸‰æ¡ä¸èƒ½æ»¡è¶³ã€‚  åˆæƒ³äº†æƒ³LinkedHashSet,  æœªæœï¼Œå’ï¼



**çœ‹é¢˜è§£**

æ’å…¥O(1)ç®€å•ï¼Œ è¦æ»¡è¶³ `getRandom()` æ˜¯O(1) ï¼Œ é‚£ä¹ˆæ•°ç»„å¿…é¡»æ˜¯ç´§å‡‘çš„ï¼Œå³ä¸€ä¸ªæŒ¨ä¸€ä¸ªã€‚ 

åœ¨è¿™ç§æ¡ä»¶ä¸‹ï¼Œåˆ é™¤çš„æ—¶å€™ï¼Œå°±è¦ç»´æŠ¤ä¸€ä¸ªç´¢å¼•ã€‚  å¹¶ä¸”ï¼Œåˆ é™¤çš„æ—¶å€™ï¼Œå°†è¦åˆ é™¤çš„å…ƒç´ å…ˆæ¢åˆ°æœ€åé¢ï¼Œä½¿å¾—ç©ºä½æœ‰å…ƒç´ ã€‚åŒæ—¶æ›´æ–°æ•°ç»„

æ³¨æ„è¿™é‡Œçš„å…³é”®ä»£ç 

```java
class RandomizedSet {

    private List<Integer> list;

    private Map<Integer, Integer> indexMap;
    /** Initialize your data structure here. */
    public RandomizedSet() {
        list = new ArrayList<>();
        indexMap = new HashMap<>();
    }

    /** Inserts a value to the set. Returns true if the set did not already contain the specified element. */
    public boolean insert(int val) {
        if(indexMap.get(val) != null) {
            return false;
        }
        list.add(val);
        indexMap.put(val,list.size()-1);
        return true;
    }

    /** Removes a value from the set. Returns true if the set contained the specified element. */
    public boolean remove(int val) {
        if(indexMap.get(val) == null) {
            return false;
        }
        swapIndex(val);
        list.remove(list.size()-1);
        return true;
    }

    private void swapIndex(int val) {
        int indexA = indexMap.get(val);
        int temp = list.get(list.size()-1);
        list.set(indexA, temp);            //æ³¨æ„è¿™ä¸ªæ–¹æ³•ï¼Œåº•å±‚æ˜¯æ•°ç»„è®¡ç®—å‡ºä¸‹æ ‡ï¼Œç„¶åæ›´æ–°ï¼Œè¿™ä¸ªç¬¬ä¸€æ¬¡ç”¨
        indexMap.put(temp,indexA); 
        indexMap.remove(val);
    }

    /** Get a random element from the set. */
    public int getRandom() {
        Random random = new Random();
        return list.get(random.nextInt(list.size()));
    }
}

/**
 * Your RandomizedSet object will be instantiated and called as such:
 * RandomizedSet obj = new RandomizedSet();
 * boolean param_1 = obj.insert(val);
 * boolean param_2 = obj.remove(val);
 * int param_3 = obj.getRandom();
 */
```

## 3. twoSumé—®é¢˜

### 1. ç»™ä¸€ä¸ªæ•°ç»„å’Œtarget

è¿™ä¸ªé—®é¢˜çš„**æœ€åŸºæœ¬å½¢å¼**æ˜¯è¿™æ ·ï¼šç»™ä½ ä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªæ•´æ•° `target`ï¼Œå¯ä»¥ä¿è¯æ•°ç»„ä¸­**å­˜åœ¨**ä¸¤ä¸ªæ•°çš„å’Œä¸º `target`ï¼Œè¯·ä½ è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ç´¢å¼•ã€‚

åŸºç¡€è§£æ³•ï¼š åŒé‡éå†  O(n^2)

è¿›é˜¶è§£æ³•ï¼šåŠ ä¸Šhashè¡¨ï¼Œæ—¶é—´å¤æ‚åº¦åˆ° O(n)

è¿™é“é¢˜å°±æ˜¯è®©ä½ ç†è§£å’Œè¿ç”¨hashè¡¨
