# Bug汇总

> 记录一些亲身经历的bug，时时反思    
>
> Star模型记录     situation、target、action、result



# 分页查询PageHelper

1. **采用动态条件维护数据**

S:   新增了一个功能，需要修复线上的历史数据

T：将表A的 busi_id 字段全部维护进新的值

A：查表的时候，将要更新的busi_id = 0 做为了条件

```sql
select * from a where busi_id = 0 and is_delete = 0
```

>  采用的是， 每次查1000条，然后更新后再查，再更

R：线上调完同步接口后，数据不一致，维护的数据量不够了

原因分析：

测试环境数据100+条，一次查完，并维护没有问题

生产环境数据20000+， 一次查1000条，然后更新，由于采用了动态条件。 导致页码减少

第一次是50